<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Use Case Specification: Song</title>
	<link href="cloud-style.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h1 class="heading">Project name: CLOUD</h1>
        <h1 class="heading">Use Case Specification: Song</h1>
		
        <h2>The authors of this document are:</h2>
        <p>	Phillipp Perez and Leo Reschetko<br>
			We are students at the DHBW Kalrsruhe and work on the project 'CLOUD' for the course "Software Engineering".</p>
		
		<h2>Revision History</h2>
        <table border="double">
            <tr>
                <th>Date</th>
                <th>Version</th>
                <th>Description</th>
                <th>Author</th>
            </tr>
            <tr>
				<td>09.04.2015</td>
				<td>Version 1.0</td>
				<td>Created Use Case</td>
				<td>Phillipp Perez</td>
            </tr>
			<tr>
				<td>14.04.2015</td>
				<td>Version 1.1</td>
				<td>Correction of activity diagram</td>
				<td>Phillipp Perez</td>
            </tr>
            <tr>
				<td>22.04.2015</td>
				<td>Version 1.2</td>
				<td>Added guidelines</td>
				<td>Phillipp Perez</td>
            </tr>
            <tr>
				<td>28.05.2015</td>
				<td>Version 1.3</td>
				<td>Corrected title</td>
				<td>Phillipp Perez</td>
            </tr>
        </table>
    <br>
	</div> <!-- end of container -->
	
	<hr class="outside">

	<div class="structure">
		<h2>Table of Contents</h2>
        <ol class="ebene1">
		  <li><a href="#1">Use Case Name</a>
              <ol class="ebene2">
                  <li><a href="#1.1">Brief Description</a></li>
              </ol>
            </li>
			<li><a href="#2">Flow of Events</a>
                <ol class="ebene2">
				    <li><a href="#2.1">Basic Flow</a></li>
					<li><a href="#2.1">Alternative Flows</a>
						<ol class="ebene3">
                            <li><a href="#2.2.1">First Alternative Flow</a></li>
                        </ol>
                    </li>
                </ol>
            </li>
			<li><a href="#3">Special Requirements</a>
			</li>
			<li><a href="#4">Preconditions</a>
				<ol class="ebene2">
					<li><a href="#4.1">Precondition One</a></li>
					<li><a href="#4.2">Precondition Two</a></li>
				</ol>
			</li>
			<li><a href="#5">Postconditions</a>
				<ol class="ebene2">
					<li><a href="#5.1">Postcondition One</a></li>                    
					<li><a href="#5.2">Postcondition Two</a></li>                    
				</ol>
			</li>
			<li><a href="#6">Extension Points</a>
			</li>
			</ol>
		<br>
	</div> <!-- end of structure -->
	
	<hr class="outside">
	
	<div class="container">
		<div class="point">
			<h1 id="1">1. Use Case Name</h1>
            <p>Song</p>	
			<h2 id="1.1">1.1 Brief Description</h2>
            <h4>Upload, retrieve & delete Songs</h4>
			<p>The admin can upload new songs to the Raspberry Pi. Only mp3 as file format is allowed. Each songs needs at minimum the id3 tags 'artist', 'title' and 'genre'. Moreover, it shall be possible to delete songs so that the actually file and the entry in the database will be deleted.</p>
		</div> <!-- end of point -->
		
		<hr>
		
		<div class="point">
            <h1 id="2">2. Flow of Events</h1>
            <h2 id="2.1">2.1 Basic Flow</h2>
            <img src="Mockup_Song.png"></img>
            <p>Upload: The admin clicks on 'Choose files' and one or more mp3 files. Then he clicks the 'Upload' button and the files will be uploaded to the server. The user will get feedback after the upload about the amount of uploaded files and errors.<br>For deleting a song, the admin clicks on the trash icon. This action will be done using AJAX so that the website won't reload.</p>
            <img src="ActivityDiagram_Song.jpg"></img>	
            <p><a href="https://github.com/leoResc/CLOUD/blob/master/Cucumber/features/Narrative-Song.feature" target="blank_">Link to according .feature file</a></p>

            <h2 id="2.2">2.2 Alternative Flows</h2>
            <h3>2.2.1 Fist Alternative Flow - False file format</h3>
            <p>The admin selects one or more files that are not of format mp3.</p>
            <p>The button 'Upload' will be disabled by JavaScript so that no upload is possible. As the user might try to manipulate the JavaScript 
                in order to upload also other files, there will exist also a second validation of the file formats on the server side. This is a 
                serious matter of security. The upload of executable files that could infect the system have to prohibited.<br> The admin will get
                feedback about files that were not of the format mp3.</p>
        </div> <!-- end of point -->
		
		<hr>
		
		<div class="point">
			<h1 id="3">3. Special Requirements</h1>
			<p>not applicable</p>
		</div> <!-- end of point -->
		
		<hr>
		
		<div class="point">
			<h1 id="4">4. Preconditions</h1>
				<h2 id="4.1">4.1 Precondition One</h2>
				<p>You need to be logged in as admin in order to upload new songs and you need to be on the page 'songs'.</p>
                <h2 id="4.2">4.2 Precondition Two</h2>
				<p>In order to delete a song there needs to be stored at least one song in the database / in the file system.</p>
            
		</div> <!-- end of point -->
		
		<hr>
		
		<div class="point">
			<h1 id="5">5. Postconditions</h1>
				<h2 id="5.1">5.1 Postcondition One</h2>
				<p>The admin can see the newly uploaded songs in the list which contains all available songs.</p>
				<h2 id="5.2">5.2 Postcondition Two</h2>
				<p>After deleting a song, the song should be deleted from the file system and also from the database. It should no more be visible in the list showing all available songs.</p>
		</div> <!-- end of point -->
		
		<hr>
		
		<div class="point">
			<h1 id="6">6. Extension Points</h1>
			<p>Hereby, the following guidelines are defined:</p>
            <ul>
                <li>Restriction 1 for file upload: Files have to be of the format .mp3.</li>
                <li>Restriction 2 for file upload: Files need at minimum the id3 tags 'artist', 'title' and 'genre'.</li>
                <li>File naming: The name of a song which is stored on the file system of the Raspberry Pi has to be of the following format:<br>
                    <p>Artist-Title.mp3</p></li>
                <li>File naming: All emerging whitespaces within the file name have to be removed as they might cause problems on some OS.</li>
            </ul>
		</div> <!-- end of point -->
		
		<br>
	</div> <!-- end of container -->
		
	<hr class="outside">
		
	<section class="color-1 button-center">
		<p>
			<button class="btn btn-1 btn-1e" onclick="up()">to the top</button>
		</p>
	</section>
	
	<script type="text/javascript">
		function up() {
			var y = 0;
			if (window.pageYOffset) {
				y = window.pageYOffset;
			} else if (document.body && document.body.scrollTop) {
				y = document.body.scrollTop;
			}
			if (y > 0) {
				window.scrollBy(0, -60);
				setTimeout("up()", 10);
			}			
		}
	</script>
</body>
</html>